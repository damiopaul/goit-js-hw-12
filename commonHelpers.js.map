{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchImages(keyWord) {\n    const apiOptions = new URLSearchParams ( {    \n       key: \"43133442-47d9d1fd9c6a7a8602dec5dde\",\n       image_type: \"photo\",\n       orientation: \"horizontal\",\n       safesearch: true,\n       q: keyWord\n   });\n\n   const searchUrl = `https://pixabay.com/api/?${apiOptions}`;\n\n   return fetch(searchUrl).then(response => {\n    if (!response.ok){\n        throw new Error (responce.status)\n    }\n    return response.json();\n   });\n}","// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst galleryImgs = document.querySelector(\".gallery\");\n\nconst lightbox = new SimpleLightbox('.gallery a', {caprionsData: 'alt'});\n\nexport function renderImages(data) {\n    const galleryMarkup = data.map(({largeImageURL,webformatURL,tags,likes,views,comments,downloads})=> {\n        return `<li class=\"gallery-item\">\n        <a class=\"gallery-item-link\" href=\"${largeImageURL}\">\n        <img class=\"item\" src=\"${webformatURL}\" alt=\"${tags}\" />\n        </a>\n        <ul class=\"item-info-container\">\n        <li class=\"item-additional-info\">\n        <p><span class=\"accent\">Likes</span></br>${likes}</p>\n        </li>\n        <li class=\"item-additional-info\">\n        <p><span class=\"accent\">Views</span></br>${views}</p>\n        </li>\n        <li class=\"item-additional-info\">\n        <p><span class=\"accent\">Comments</span></br>${comments}</p>\n        </li>\n        <li class=\"item-additional-info\">\n        <p><span class=\"accent\">Downloads</span></br>${downloads}</p>\n        </li>\n        </ul>\n        </li>`\n    })\n\n    galleryImgs.insertAdjacentHTML('beforeend', galleryMarkup);\n    \n    lightbox.refresh();\n}\n\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { fetchImages } from \"./js/pixabay-api.js\";\nimport { renderImages } from \"./js/render-functions.js\";\n\nlet keyWord;\n\nconst galleryImgs = document.querySelector(\".gallery\");\n\nconst form = document.querySelector(\"form\");\n\nconst loader = document.querySelector(\".loader\");\n\n\n// описуємо лоадер \n\nfunction showLoader(){\n    loader.classList.remove(\"is-hidden\");\n}\n\nfunction hideLoader(){\n    loader.classList.add(\"is-hidden\");\n}\n\nfunction validInput(event) {\n\n    event.preventDefault();\n    \n    galleryImgs.innerHTML = \"\";\n\n   keyWord = event.target.elements.search.value.trim();\n\n    showLoader();\n\n    if (keyWord === \"\"){\n        iziToast.warning({\n            color: \"yellow\",\n            message: \"Please fill in the field for search!\",\n            position: \"topRight\"\n        })\n        return\n    }\n\n    fetchImages(keyWord).then(data =>{\n        if (data.hits.length === 0){\n            iziToast.error({\n                message: \"Sorry, there are no images matching your search query. Please try again!\",\n                backgroundColor: \"red\",\n                messageColor: \"white\",\n                position: \"topRight\"\n            })\n        }\n\n        renderImages(data.hits)\n\n        event.target.reset();\n\n        return\n    })\n    .catch(error => {console.log(error);\n        iziToast.error({\n          title: 'Error',\n          message: `Sorry, there are no images matching your search query. Please, try again!`,\n          position: 'topRight'}\n          )\n        }).finally(() => hideLoader())\n      }\n\nform.addEventListener(\"submit\", validInput);\n\n"],"names":["fetchImages","keyWord","searchUrl","response","galleryImgs","lightbox","SimpleLightbox","renderImages","data","galleryMarkup","largeImageURL","webformatURL","tags","likes","views","comments","downloads","form","loader","showLoader","hideLoader","validInput","event","iziToast","error"],"mappings":"6vBAAO,SAASA,EAAYC,EAAS,CASlC,MAAMC,EAAY,4BARE,IAAI,gBAAkB,CACtC,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,EAAGD,CACV,CAAI,CAEuD,GAExD,OAAO,MAAMC,CAAS,EAAE,KAAKC,GAAY,CACxC,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAO,SAAS,MAAM,EAEpC,OAAOA,EAAS,MACpB,CAAI,CACJ,CCXA,MAAMC,EAAc,SAAS,cAAc,UAAU,EAE/CC,EAAW,IAAIC,EAAe,aAAc,CAAC,aAAc,KAAK,CAAC,EAEhE,SAASC,EAAaC,EAAM,CAC/B,MAAMC,EAAgBD,EAAK,IAAI,CAAC,CAAC,cAAAE,EAAc,aAAAC,EAAa,KAAAC,EAAK,MAAAC,EAAM,MAAAC,EAAM,SAAAC,EAAS,UAAAC,CAAS,IACpF;AAAA,6CAC8BN,CAAa;AAAA,iCACzBC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA,mDAIRC,CAAK;AAAA;AAAA;AAAA,mDAGLC,CAAK;AAAA;AAAA;AAAA,sDAGFC,CAAQ;AAAA;AAAA;AAAA,uDAGPC,CAAS;AAAA;AAAA;AAAA,cAI3D,EAEDZ,EAAY,mBAAmB,YAAaK,CAAa,EAEzDJ,EAAS,QAAO,CACpB,CC/BA,IAAIJ,EAEJ,MAAMG,EAAc,SAAS,cAAc,UAAU,EAE/Ca,EAAO,SAAS,cAAc,MAAM,EAEpCC,EAAS,SAAS,cAAc,SAAS,EAK/C,SAASC,GAAY,CACjBD,EAAO,UAAU,OAAO,WAAW,CACvC,CAEA,SAASE,GAAY,CACjBF,EAAO,UAAU,IAAI,WAAW,CACpC,CAEA,SAASG,EAAWC,EAAO,CAUvB,GARAA,EAAM,eAAc,EAEpBlB,EAAY,UAAY,GAEzBH,EAAUqB,EAAM,OAAO,SAAS,OAAO,MAAM,OAE5CH,IAEIlB,IAAY,GAAG,CACfsB,EAAS,QAAQ,CACb,MAAO,SACP,QAAS,uCACT,SAAU,UACtB,CAAS,EACD,MACH,CAEDvB,EAAYC,CAAO,EAAE,KAAKO,GAAO,CACzBA,EAAK,KAAK,SAAW,GACrBe,EAAS,MAAM,CACX,QAAS,2EACT,gBAAiB,MACjB,aAAc,QACd,SAAU,UAC1B,CAAa,EAGLhB,EAAaC,EAAK,IAAI,EAEtBc,EAAM,OAAO,OAGrB,CAAK,EACA,MAAME,GAAS,CAAC,QAAQ,IAAIA,CAAK,EAC9BD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,4EACT,SAAU,UAAU,CACnB,CACX,CAAS,EAAE,QAAQ,IAAMH,GAAY,CAC9B,CAEPH,EAAK,iBAAiB,SAAUI,CAAU"}